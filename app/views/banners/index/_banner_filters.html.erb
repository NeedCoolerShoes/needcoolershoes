<div class="flex flex-col gap-2 bg-ncs-yellow-200 p-2 rounded-b text-gray-600">
  <div>
    <%= link_to "Clear All", banners_gallery_path, class: "underline" %>
    <%= link_to "Random Banner", random_banner_path, class: "underline" %>
    <h3 class="font-bold text-black">Created At:</h3>
    <div class="flex flex-wrap gap-1 text-gray-600">
      <div class="flex flex-wrap items-center gap-1 text-gray-600">
        <%
          date_ranges = {
            today: "0", last_7_days: "7", last_30_days: "30", last_90_days: "90", last_year: "365"
          }
        %>
        <% date_ranges.each do |title, offset| %>
          <% count = Skin.created_after_days(offset).count %>
          <%= banners_gallery_filter_tag params, :date_offset, offset, "#{title.to_s.titleize} - #{count}", title.to_s.titleize %>
        <% end %>
      </div>
    </div>
  </div>
  <h3 class="font-bold text-black">Order By:</h3>
  <div class="flex flex-wrap gap-1 text-gray-600">
    <div class="flex flex-wrap items-center gap-1 text-gray-600">
      <%
        orderings = {
          "favourite" => "Most Favourited",
          "new" => "Newest",
          "old" => "Oldest",
          "new_updated" => "Most Recently Updated",
          "old_updated" => "Least Recently Updated"
        }
      %>
      <% orderings.each do |order, title| %>
        <%= banners_gallery_filter_tag params, :order, order, "", title %>
      <% end %>
    </div>
  </div>
  <% if current_user.present? %>
    <h3 class="font-bold text-black">Relevant to Me:</h3>
    <div class="flex flex-wrap gap-1 text-gray-600">
      <div class="flex flex-wrap items-center gap-1 text-gray-600">
        <%= banners_gallery_filter_tag params.except(:favourited_by), :user, current_user.name, "#{current_user.display_name} - #{current_user.skins.count}", "My Banners" %>
        <%= banners_gallery_filter_tag params.except(:user), :favourited_by, current_user.name, "My Favourites - #{current_user.favourites.count}", "My Favourites" %>
      </div>
    </div>
  <% end %>
  <div>
    <h3 class="font-bold text-black">Popular Tags:</h3>
    <div class="flex flex-wrap gap-1 text-gray-600">
      <div class="flex flex-wrap items-center gap-1 text-gray-600">
        <% banners.top_tags(10).each do |tag| %>
          <%= banners_gallery_filter_tag params, :tag, tag.name, "#{tag.name} - #{tag.taggings_count}" %>
        <% end %>
      </div>
    </div>
  </div>
</div>