<%= render partial: "shared/welcome" if params[:welcome].present? %>

<% content_for :filters do %>
  <%= render partial: "skins/index/skin_filters", locals: {params: @gallery_params, skins: @skins} %>
<% end %>

<% content_for :before_gallery do %>
  <div class="md:hidden w-full pt-2">
    <%= render partial: "shared/search", locals: { classes: "w-full", btn_classes: "btn-ncs shrink w-auto" } %>
  </div>
  <% if @jam.present? %>
    <div class="mt-2">
      <%= render partial: "skins/index/jam_info", locals: { jam: @jam } %>
    </div>
  <% end %>
<% end %>

<%= render partial: "shared/pagy_nav", locals: { pagy: @pagy } %>
<div class="flex justify-center gap-4 flex-wrap">
  <% @skins.each do |skin| %>
    <%
      show_visibility = false
      show_visibility = true if current_user.present? && skin.user == current_user
    %>
    <div class="w-[230px]">
      <%= render partial: "skins/index/skin_index", locals: { skin: skin, show_visibility: show_visibility }%>
    </div>
  <% end %>
</div>
<%= render partial: "shared/pagy_nav", locals: { pagy: @pagy } %>